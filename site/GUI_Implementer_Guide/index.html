<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>GUI Implementer Guide - eac.js</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "GUI Implementer Guide";
    var mkdocs_page_input_path = "GUI_Implementer_Guide.md";
    var mkdocs_page_url = "/GUI_Implementer_Guide/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> eac.js</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../Executing_Tut/">Executing</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">API</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../API/">API Documentation</a>
                </li>
                <li class="">
                    
    <a class="" href="../API/constants/">Constants</a>
                </li>
                <li class="">
                    
    <a class="" href="../API/requestFactory/">Request Factory</a>
                </li>
                <li class="">
                    
    <a class="" href="../API/requestTracker/">Request Tracker</a>
                </li>
                <li class="">
                    
    <a class="" href="../API/scheduler/">Scheduler</a>
                </li>
                <li class="">
                    
    <a class="" href="../API/txRequest/">Transaction Request</a>
                </li>
                <li class="">
                    
    <a class="" href="../API/util/">Util</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1 current">
		
    <a class="current" href="./">GUI Implementer Guide</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#ethereum-alarm-clock-gui-implementation-guide">Ethereum Alarm Clock GUI Implementation Guide</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#what-will-be-implemented">What will be implemented?</a></li>
        
            <li><a class="toctree-l3" href="#basics">Basics</a></li>
        
            <li><a class="toctree-l3" href="#schedulers">Schedulers</a></li>
        
            <li><a class="toctree-l3" href="#necessary-options">Necessary Options</a></li>
        
        </ul>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../Changelog/">Changelog</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">eac.js</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>GUI Implementer Guide</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="ethereum-alarm-clock-gui-implementation-guide">Ethereum Alarm Clock GUI Implementation Guide</h1>
<p>This guide is an attempt to provide information to ease the process of an implementation of a graphical front-end on the Ethereum Alarm Clock service. It should be a document that you can consult to understand what parameters you need to include and the user cases to cover while building your interface.</p>
<h2 id="what-will-be-implemented">What will be implemented?</h2>
<p>A graphical interface to the Ethereum Alarm Clock. User functionalities will include the ability to schedule a transaction in a cohesive flow. It may also include the ability to manually execute a transaction request (althought for the most past this will be done more efficiently by clients such as <code>eac.js</code>)</p>
<h2 id="basics">Basics</h2>
<p>The ethereum alarm clock consists of a collection of smart contracts that interoperate with each other on-chain. Whenever a user schedules a new transaction, it will use these contracts to deploy a new contract that contains all of the execution data set by the user. The contracts keep track of this <code>transaction request</code> in a database contract that exposes a public API to be queriable by off-chain code.</p>
<p>Servers that are running an execution client will be scanning the blockchain for scheduled <code>transaction requests</code> and sending claim or execution transactions to them. Clients will be doing most of the execution work "behind the scenes" for users and ideally, they will never have to worry about their transaction being executed on time.</p>
<p>In order to provide incentive to execution clients, when users schedule transactions they will include a <code>payment</code> variable.</p>
<p><em>If you would like a complete introduction to the Ethereum Alarm Clock infrastructure, we recommend the official docs.</em></p>
<h2 id="schedulers">Schedulers</h2>
<p>You will be working with the high-level APIs of the Scheduler contracts. There are two types of Scheduler, a <code>TimestampScheduler</code> and a <code>BlockScheduler</code>. The only difference between these two is the unit of time that each accepts for its scheduling paremeters. As you might guess, the <code>TimestampScheduler</code> requires all input to be as a <a href="https://www.unixtimestamp.com/">Unix timestamp</a> while the <code>BlockScheduler</code> takes in input as Ethereum block numbers. Otherwise, both Schedulers have the same public function <code>schedule()</code> to accept input. Here is the Solidity interface:</p>
<pre><code>function schedule(address   _toAddress,
                  bytes     _callData,
                  uint[8]   _uintArgs)
    doReset
    public payable returns (address);
</code></pre>

<h3 id="schedule-params">Schedule params</h3>
<p>The schedule function takes three parameters, an Ethereum address, an array of bytes (a Javascript <code>Buffer</code>), and an array of eight unsigned integers. The eight unsigned integers are:</p>
<ul>
<li>_uintArgs [0] The <strong>callGas</strong> to be sent with the scheduled transaction.</li>
<li>_uintArgs [1] The <strong>callValue</strong> to be sent with the scheduled transaction.</li>
<li>_uintArgs [2] The execution <strong>windowSize</strong>.</li>
<li>_uintArgs [3] The (block or timestamp) of the execution <strong>windowStart</strong>.</li>
<li>_uintArgs [4] The <strong>gasPrice</strong> which will be used to execute this transaction.</li>
<li>_uintArgs [5] The <strong>donation</strong> value attached to this transaction.</li>
<li>_uintArgs [6] The <strong>payment</strong> value attached to this transaction.</li>
<li>_uintArgs [7] The <strong>requiredDeposit</strong> to claim this transaction.</li>
</ul>
<p>The scheduling party must also send enough value to cover the <code>endowment</code> of the transaction request. The <code>endowment</code> is calculated like so:</p>
<pre><code>endowment = payment + donation * 2 + callGas * gasPrice + 180000 * gasPrice + callValue
</code></pre>

<p>The <code>endowment</code> is required because the scheduler of the transaction must pay all the gas costs, as well as cover the value and the <code>payment</code> and <code>donation</code> costs up front.  </p>
<h3 id="validation">Validation</h3>
<p>The Schedulers will use the <code>RequestFactory</code> contract to perform some verification checks on the input it recieves and bubble up a <code>ValidationError</code> event if one is encountered. The front-end GUI should be able to read these events if they happen and notify the use why their transaction was not able to go through. However, it may be better if the front-end code employed validation checks to prevent the error ever reaching the blockchain.</p>
<p>Some verification check you will need to be aware of include:</p>
<h4 id="insufficient-endowment">Insufficient Endowment</h4>
<p>The amount sent in the transaction must be <strong>at least</strong> the sum computed as the <code>endowment</code>. </p>
<h4 id="call-gas-too-high">Call Gas too High</h4>
<p>The maximum callGas sent with the transaction is the <code>current_network_gasLimit - 140000</code> where <code>140000</code> is the gas overhead of execution.</p>
<h4 id="empty-to-address">Empty To Address</h4>
<p>The <code>toAddress</code> cannot be a null address <code>0x0000000000000000000000000000000000000000</code></p>
<p>For a full list of <code>ValidationError</code> see <a href="https://ethereum-alarm-clock.readthedocs.io/en/latest/request_factory.html#validation">this page</a> of the docs.</p>
<h2 id="necessary-options">Necessary Options</h2>
<p>You will need to present an option for the user to switch between block-based
scheduling and timestamp-based scheduling. This could be accomplished by the
implementation of a switch or checkbox, or perhaps a drop-down menu.</p>
<p><em>To be continued...</em></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Changelog/" class="btn btn-neutral float-right" title="Changelog">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../API/util/" class="btn btn-neutral" title="Util"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../API/util/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../Changelog/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js"></script>
      <script src="../search/require.js"></script>
      <script src="../search/search.js"></script>

</body>
</html>
